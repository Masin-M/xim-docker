# Xim Docker Compose Configuration
#
# Usage:
#   1. Set XIM_FFXI_PATH to your "FINAL FANTASY XI" folder
#      (the one containing ROM/, ROM2/, ROM3/, sound/, FFXiMain.dll, etc.)
#   2. Build: docker-compose build
#   3. Run:   docker-compose up -d
#   4. Open:  http://localhost:8081
#
# Stop:
#   docker-compose down

# docker-compose.yml for the ALTERNATE (unmodified) version

version: '3.8'

services:
  xim:
    build:
      context: .
      dockerfile: Dockerfile
    image: xim-baseline:latest        # Changed from xim:latest
    container_name: xim-baseline      # Changed from xim-server
    ports:
      - "8082:80"                      # Changed from 8081:80
    volumes:
      - ${XIM_FFXI_PATH}:/usr/share/nginx/html/ffxi:ro
    restart: unless-stopped
    
    # Optional resource limits
    # deploy:
    #   resources:
    #     limits:
    #       memory: 256M
    #       cpus: '0.5'
